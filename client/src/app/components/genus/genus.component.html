<div class="genus-page">
  <div class="header-bar">
    <h2>–¢–∞–±–ª–∏—Ü–∞ —Ä–æ–¥–æ–≤</h2>
    <button class="btn-add" (click)="startAdd()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥</button>
  </div>

  <div *ngIf="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö‚Ä¶</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading" class="genus-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–†–æ–¥</th>
        <th>–°–µ–º–µ–π—Å—Ç–≤–æ</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let g of genera">
        <td>{{ g.id }}</td>
        <td>{{ g.name_of_genus }}</td>
        <td>{{ g.Family.name_of_family }}</td>
        <td>
          <button class="btn-edit" (click)="startEdit(g)">‚úé</button>
          <button class="btn-delete" (click)="deleteGenus(g)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Modal -->
  <div class="modal-backdrop" *ngIf="editingGenus"></div>
  <div class="modal" *ngIf="editingGenus">
    <h3>{{ editingGenus.id ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å' }} —Ä–æ–¥</h3>
    <form [formGroup]="form" (ngSubmit)="save()">
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–¥–∞</label>
      <input formControlName="name_of_genus" />

      <label>–°–µ–º–µ–π—Å—Ç–≤–æ</label>
      <select formControlName="family_id">
        <option *ngFor="let f of families" [value]="f.id">{{ f.name_of_family }}</option>
      </select>

      <div class="buttons">
        <button type="submit" [disabled]="form.invalid">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" (click)="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </div>

</div>