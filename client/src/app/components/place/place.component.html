<div class="place-page">
  <div class="header-bar">
    <h2>–ú–µ—Å—Ç–∞ —Å–±–æ—Ä–∞</h2>
    <button class="btn-add" (click)="startAdd()">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
  </div>

  <div *ngIf="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading" class="place-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ú–µ—Å—Ç–æ</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of places">
        <td>{{ p.id }}</td>
        <td>{{ p.place_of_collection }}</td>
        <td>
          <button class="btn-edit" (click)="startEdit(p)">‚úé</button>
          <button class="btn-delete" (click)="deletePlace(p)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Modal -->
  <div class="modal-backdrop" *ngIf="editingPlace"></div>
  <div class="modal" *ngIf="editingPlace">
    <h3>{{ editingPlace.id ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å' }} –º–µ—Å—Ç–æ</h3>
    <form [formGroup]="form" (ngSubmit)="save()">
      <label>–ú–µ—Å—Ç–æ —Å–±–æ—Ä–∞</label>
      <input formControlName="place_of_collection" />

      <div class="buttons">
        <button type="submit" [disabled]="form.invalid">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" (click)="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </div>
</div>
