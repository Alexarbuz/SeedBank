<div *ngIf="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–µ–º–µ–Ω–∏‚Ä¶</div>
<div *ngIf="error" class="error">{{ error }}</div>

<div *ngIf="!loading && seed" class="seed-card-container">
  <button class="btn-back" [routerLink]="['/collection']">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</button>

  <h2>–ö–∞—Ä—Ç–æ—á–∫–∞ —Å–µ–º–µ–Ω–∏: {{ seed.seed_name }} <button class="btn-export" (click)="exportToExcel()" *ngIf="!loading && seed">
  üì• –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel
</button></h2>

  <div class="seed-content">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ -->
    <div class="seed-images-panel">
      <div class="image-wrapper">
        <span class="image-label">–û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</span>
        <ng-container *ngIf="seed.image; else noImageMain">
          <img
            [src]="seed.image"
            alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–º–µ–Ω–∏ {{ seed.seed_name }}"
            class="seed-image clickable"
            (error)="onImgError($event)"
            (click)="openOverlay(seed.image)"
          />
        </ng-container>
        <ng-template #noImageMain>
          <div class="no-image">‚Äî –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Äî</div>
        </ng-template>
      </div>

      <div class="image-wrapper">
        <span class="image-label">–†–µ–Ω—Ç–≥–µ–Ω–æ–≥—Ä–∞–º–º–∞</span>
        <ng-container *ngIf="seed.xrayimage; else noImageXray">
          <img
            [src]="seed.xrayimage"
            alt="X-Ray —Å–µ–º–µ–Ω–∏ {{ seed.seed_name }}"
            class="seed-image clickable"
            (error)="onImgError($event)"
            (click)="openOverlay(seed.xrayimage)"
          />
        </ng-container>
        <ng-template #noImageXray>
          <div class="no-image">‚Äî –Ω–µ—Ç X-Ray ‚Äî</div>
        </ng-template>
      </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
    <div class="seed-info-panel">
      <dl>
        <dt>ID</dt>
        <dd>{{ seed.seed_id }}</dd>

        <dt>–ù–∞–∑–≤–∞–Ω–∏–µ</dt>
        <dd>{{ seed.seed_name }}</dd>

        <dt>–í–∏–¥</dt>
        <dd>{{ seed.Specie.name_of_specie }}</dd>

        <dt>–†–æ–¥</dt>
        <dd>{{ seed.Specie.Genus.name_of_genus }}</dd>

        <dt>–°–µ–º–µ–π—Å—Ç–≤–æ</dt>
        <dd>{{ seed.Specie.Genus.Family.name_of_family }}</dd>

        <dt>–î–∞—Ç–∞ —Å–±–æ—Ä–∞</dt>
        <dd>{{ seed.date_of_collection | date:'yyyy-MM-dd' }}</dd>

        <dt>–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö</dt>
        <dd>{{ seed.completed_seeds }}</dd>

        <dt>–í—Å—Ö–æ–∂–µ—Å—Ç—å (%)</dt>
        <dd>{{ seed.seed_germination }}</dd>

        <dt>–í–ª–∞–∂–Ω–æ—Å—Ç—å (%)</dt>
        <dd>{{ seed.seed_moisture }}</dd>

        <dt>GPS –≤—ã—Å–æ—Ç–∞</dt>
        <dd>{{ seed.gpsaltitude }}</dd>

        <dt>GPS –¥–æ–ª–≥–æ—Ç–∞</dt>
        <dd>{{ seed.gpslongitude }}</dd>

        <dt>GPS —à–∏—Ä–æ—Ç–∞</dt>
        <dd>{{ seed.gpslatitude }}</dd>

        <dt>–í–µ—Å 1000 —Å–µ–º—è–Ω</dt>
        <dd>{{ seed.weight_of1000seeds }}</dd>

        <dt>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</dt>
        <dd>{{ seed.number_of_seeds }}</dd>

        <dt>–û–ø–∏—Å–∞–Ω–∏–µ</dt>
        <dd>{{ seed.comment }}</dd>

        <dt>–ö—Ä–∞—Å–Ω–∞—è –∫–Ω–∏–≥–∞ –†–§</dt>
        <dd>{{ seed.RedBookRF.category }}</dd>

        <dt>–ö—Ä–∞—Å–Ω–∞—è –∫–Ω–∏–≥–∞ –°–û</dt>
        <dd>{{ seed.RedBookSO.category }}</dd>

        <dt>–ú–µ—Å—Ç–æ —Å–±–æ—Ä–∞</dt>
        <dd>{{ seed.PlaceOfCollection.place_of_collection }}</dd>
      </dl>
      <!-- –ö–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ -->

    </div>
  </div>
</div>

<!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
<div class="overlay" *ngIf="enlargedImage" (click)="closeOverlay()">
  <img [src]="enlargedImage" alt="–£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" class="overlay-image" />
</div>
