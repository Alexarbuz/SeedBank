<!-- specie.component.html -->
<div class="specie-page">
  <div class="header-bar">
    <h2>–¢–∞–±–ª–∏—Ü–∞ –≤–∏–¥–æ–≤</h2>
    <button class="btn-add" (click)="startAdd()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥</button>
  </div>

  <div *ngIf="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö‚Ä¶</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading" class="specie-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–í–∏–¥</th>
        <th>–†–æ–¥</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of species">
        <td>{{ s.id }}</td>
        <td>{{ s.name_of_specie }}</td>
        <td>{{ s.Genus.name_of_genus }}</td>
        <td>
          <button class="btn-edit" (click)="startEdit(s)">‚úé</button>
          <button class="btn-delete" (click)="deleteSpecie(s)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Modal -->
  <div class="modal-backdrop" *ngIf="editingSpecie"></div>
  <div class="modal" *ngIf="editingSpecie">
    <h3>{{ editingSpecie.id ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å' }} –≤–∏–¥</h3>
    <form [formGroup]="form" (ngSubmit)="save()">
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–∞</label>
      <input formControlName="name_of_specie" />

      <label>–†–æ–¥</label>
      <select formControlName="genus_id">
        <option *ngFor="let g of genera" [value]="g.id">{{ g.name_of_genus }}</option>
      </select>

      <div class="buttons">
        <button type="submit" [disabled]="form.invalid">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" (click)="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </div>
</div>
