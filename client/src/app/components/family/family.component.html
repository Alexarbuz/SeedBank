<div class="family-page">
  <div class="header-bar">
    <h2>–¢–∞–±–ª–∏—Ü–∞ —Å–µ–º–µ–π—Å—Ç–≤</h2>
    <button class="btn-add" (click)="startAdd()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ</button>
  </div>

  <div *ngIf="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö‚Ä¶</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading" class="family-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let f of families">
        <td>{{ f.id }}</td>
        <td>{{ f.name_of_family }}</td>
        <td>
          <button class="btn-edit" (click)="startEdit(f)">‚úé</button>
          <button class="btn-delete" (click)="deleteFamily(f)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Modal -->
  <div class="modal-backdrop" *ngIf="editingFamily"></div>
  <div class="modal" *ngIf="editingFamily">
    <h3>{{ editingFamily.id ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å' }} —Å–µ–º–µ–π—Å—Ç–≤–æ</h3>
    <form [formGroup]="form" (ngSubmit)="save()">
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞</label>
      <input formControlName="name_of_family" />
      <div class="buttons">
        <button type="submit" [disabled]="form.invalid">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" (click)="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </div>

</div>
